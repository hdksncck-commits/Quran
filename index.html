<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المصحف الإلكتروني</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        :root {
            --bg-color: #f5e8d0;
            --text-color: #2c3e50;
            --paper-color: #f9f3e9;
            --border-color: #d4b483;
            --shadow-color: rgba(0, 0, 0, 0.2);
            --button-color: #8b4513;
            --button-hover: #a0522d;
        }

        .dark-mode {
            --bg-color: #1a1a2e;
            --text-color: #e6e6e6;
            --paper-color: #2d2d44;
            --border-color: #4a4a6a;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --button-color: #4a4a6a;
            --button-hover: #5a5a7a;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            width: 100%;
            max-width: 800px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 1.8rem;
            color: #2c5e1a;
        }

        .logo h1 {
            font-size: 1.5rem;
            color: #2c5e1a;
        }

        .controls {
            display: flex;
            gap: 10px;
        }

        .page-navigation {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .page-input {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .page-input input {
            width: 70px;
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--paper-color);
            color: var(--text-color);
            text-align: center;
            font-size: 1rem;
        }

        .nav-button {
            background-color: var(--button-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
            box-shadow: 0 4px 6px var(--shadow-color);
        }

        .nav-button:hover {
            background-color: var(--button-hover);
        }

        .toggle-button {
            background-color: var(--button-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s;
        }

        .toggle-button:hover {
            background-color: var(--button-hover);
        }

        .container {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .quran-page {
            width: 100%;
            height: auto;
            background-color: var(--paper-color);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 10px 25px var(--shadow-color);
            position: relative;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            min-height: 70vh;
            overflow: hidden;
        }

        .page-decoration {
            position: absolute;
            top: 10px;
            bottom: 10px;
            width: 30px;
            background: repeating-linear-gradient(
                to bottom,
                transparent,
                transparent 20px,
                var(--border-color) 20px,
                var(--border-color) 21px
            );
        }

        .page-decoration.left {
            left: 15px;
        }

        .page-decoration.right {
            right: 15px;
        }

        .page-content {
            padding: 0 40px;
            text-align: justify;
            line-height: 2.5;
            font-size: 1.4rem;
            font-family: 'Traditional Arabic', 'Arial', sans-serif;
            height: 100%;
            overflow-y: auto;
        }

        .page-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            font-size: 1.2rem;
        }

        .page-number {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1rem;
            color: var(--text-color);
            background-color: var(--paper-color);
            padding: 5px 15px;
            border-radius: 20px;
            border: 1px solid var(--border-color);
        }

        .footer {
            margin-top: 20px;
            text-align: center;
            padding: 15px;
            font-size: 0.9rem;
            color: #777;
            width: 100%;
            max-width: 800px;
        }

        /* تأثير تقليب الصفحة */
        .page-flip {
            animation: flip 0.6s ease-in-out;
        }

        @keyframes flip {
            0% { transform: perspective(1000px) rotateY(0); }
            50% { transform: perspective(1000px) rotateY(-90deg); }
            100% { transform: perspective(1000px) rotateY(0); }
        }

        /* تصميم متجاوب */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .logo h1 {
                font-size: 1.3rem;
            }
            
            .page-content {
                font-size: 1.2rem;
                line-height: 2.2;
                padding: 0 30px;
            }
            
            .quran-page {
                padding: 20px 15px;
            }
            
            .page-decoration {
                width: 20px;
            }
        }

        @media (max-width: 480px) {
            .page-content {
                font-size: 1rem;
                line-height: 2;
                padding: 0 20px;
            }
            
            .nav-button {
                width: 45px;
                height: 45px;
            }
            
            .toggle-button span {
                display: none;
            }
            
            .toggle-button {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <i class="fas fa-quran"></i>
            <h1>المصحف الإلكتروني</h1>
        </div>
        <div class="controls">
            <button class="toggle-button" id="themeToggle">
                <i class="fas fa-moon"></i>
                <span>الوضع الداكن</span>
            </button>
        </div>
    </div>

    <div class="container">
        <div class="page-navigation">
            <button class="nav-button" id="prevPage">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <div class="page-input">
                <span>صفحة</span>
                <input type="number" id="pageInput" min="1" max="604" value="1">
                <span>من 604</span>
            </div>
            
            <button class="nav-button" id="nextPage">
                <i class="fas fa-chevron-left"></i>
            </button>
        </div>

        <div class="quran-page" id="quranPage">
            <div class="page-decoration left"></div>
            <div class="page-decoration right"></div>
            <div class="page-header" id="pageHeader">
                سورة الفاتحة - الجزء الأول
            </div>
            <div class="page-content" id="pageContent">
                بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ ﴿1﴾ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ ﴿2﴾ الرَّحْمَـٰنِ الرَّحِيمِ ﴿3﴾ مَالِكِ يَوْمِ الدِّينِ ﴿4﴾ إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ ﴿5﴾ اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ ﴿6﴾ صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ ﴿7﴾
            </div>
            <div class="page-number" id="pageNumber">صفحة 1</div>
        </div>
    </div>

    <div class="footer">
        <p>المصحف الإلكتروني - يمكنك تصفح القرآن الكريم كاملًا بأسلوب يشبه المصحف الورقي</p>
        <p>© 2023 - جميع الحقوق محفوظة</p>
    </div>

    <script>
        // بيانات عينة لصفحات القرآن (في التطبيق الحقيقي سيكون هناك 604 صفحة)
        const quranPages = {
            1: {
                surah: "الفاتحة",
                juz: "الأول",
                content: `بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ ﴿1﴾ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ ﴿2﴾ الرَّحْمَـٰنِ الرَّحِيمِ ﴿3﴾ مَالِكِ يَوْمِ الدِّينِ ﴿4﴾ إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ ﴿5﴾ اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ ﴿6﴾ صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ ﴿7﴾`
            },
            2: {
                surah: "البقرة",
                juz: "الأول",
                content: `الم ﴿1﴾ ذَٰلِكَ الْكِتَابُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ ﴿2﴾ الَّذِينَ يُؤْمِنُونَ بِالْغَيْبِ وَيُقِيمُونَ الصَّلَاةَ وَمِمَّا رَزَقْنَاهُمْ يُنفِقُونَ ﴿3﴾ وَالَّذِينَ يُؤْمِنُونَ بِمَا أُنزِلَ إِلَيْكَ وَمَا أُنزِلَ مِن قَبْلِكَ وَبِالْآخِرَةِ هُمْ يُوقِنُونَ ﴿4﴾ أُولَـٰئِكَ عَلَىٰ هُدًى مِّن رَّبِّهِمْ ۖ وَأُولَـٰئِكَ هُمُ الْمُفْلِحُونَ ﴿5﴾`
            },
            3: {
                surah: "البقرة",
                juz: "الأول",
                content: `إِنَّ الَّذِينَ كَفَرُوا سَوَاءٌ عَلَيْهِمْ أَأَنذَرْتَهُمْ أَمْ لَمْ تُنذِرْهُمْ لَا يُؤْمِنُونَ ﴿6﴾ خَتَمَ اللَّهُ عَلَىٰ قُلُوبِهِمْ وَعَلَىٰ سَمْعِهِمْ ۖ وَعَلَىٰ أَبْصَارِهِمْ غِشَاوَةٌ ۖ وَلَهُمْ عَذَابٌ عَظِيمٌ ﴿7﴾ وَمِنَ النَّاسِ مَن يَقُولُ آمَنَّا بِاللَّهِ وَبِالْيَوْمِ الْآخِرِ وَمَا هُم بِمُؤْمِنِينَ ﴿8﴾ يُخَادِعُونَ اللَّهَ وَالَّذِينَ آمَنُوا وَمَا يَخْدَعُونَ إِلَّا أَنفُسَهُمْ وَمَا يَشْعُرُونَ ﴿9﴾ فِي قُلُوبِهِم مَّرَضٌ فَزَادَهُمُ اللَّهُ مَرَضًا ۖ وَلَهُمْ عَذَابٌ أَلِيمٌ بِمَا كَانُوا يَكْذِبُونَ ﴿10﴾`
            },
            4: {
                surah: "البقرة",
                juz: "الأول",
                content: `وَإِذَا قِيلَ لَهُمْ لَا تُفْسِدُوا فِي الْأَرْضِ قَالُوا إِنَّمَا نَحْنُ مُصْلِحُونَ ﴿11﴾ أَلَا إِنَّهُمْ هُمُ الْمُفْسِدُونَ وَلَـٰكِن لَّا يَشْعُرُونَ ﴿12﴾ وَإِذَا قِيلَ لَهُمْ آمِنُوا كَمَا آمَنَ النَّاسُ قَالُوا أَنُؤْمِنُ كَمَا آمَنَ السُّفَهَاءُ ۗ أَلَا إِنَّهُمْ هُمُ السُّفَهَاءُ وَلَـٰكِن لَّا يَعْلَمُونَ ﴿13﴾ وَإِذَا لَقُوا الَّذِينَ آمَنُوا قَالُوا آمَنَّا وَإِذَا خَلَوْا إِلَىٰ شَيَاطِينِهِمْ قَالُوا إِنَّا مَعَكُمْ إِنَّمَا نَحْنُ مُسْتَهْزِئُونَ ﴿14﴾ اللَّهُ يَسْتَهْزِئُ بِهِمْ وَيَمُدُّهُمْ فِي طُغْيَانِهِمْ يَعْمَهُونَ ﴿15﴾`
            },
            5: {
                surah: "البقرة",
                juz: "الأول",
                content: `أُولَـٰئِكَ الَّذِينَ اشْتَرَوُا الضَّلَالَةَ بِالْهُدَىٰ فَمَا رَبِحَت تِّجَارَتُهُمْ وَمَا كَانُوا مُهْتَدِينَ ﴿16﴾ مَثَلُهُمْ كَمَثَلِ الَّذِي اسْتَوْقَدَ نَارًا فَلَمَّا أَضَاءَتْ مَا حَوْلَهُ ذَهَبَ اللَّهُ بِنُورِهِمْ وَتَرَكَهُمْ فِي ظُلُمَاتٍ لَّا يُبْصِرُونَ ﴿17﴾ صُمٌّ بُكْمٌ عُمْيٌ فَهُمْ لَا يَرْجِعُونَ ﴿18﴾ أَوْ كَصَيِّبٍ مِّنَ السَّمَاءِ فِيهِ ظُلُمَاتٌ وَرَعْدٌ وَبَرْقٌ يَجْعَلُونَ أَصَابِعَهُمْ فِي آذَانِهِم مِّنَ الصَّوَاعِقِ حَذَرَ الْمَوْتِ ۚ وَاللَّهُ مُحِيطٌ بِالْكَافِرِينَ ﴿19﴾ يَكَادُ الْبَرْقُ يَخْطَفُ أَبْصَارَهُمْ ۖ كُلَّمَا أَضَاءَ لَهُم مَّشَوْا فِيهِ وَإِذَا أَظْلَمَ عَلَيْهِمْ قَامُوا ۚ وَلَوْ شَاءَ اللَّهُ لَذَهَبَ بِسَمْعِهِمْ وَأَبْصَارِهِمْ ۚ إِنَّ اللَّهَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ ﴿20﴾`
            }
        };

        let currentPage = 1;
        const totalPages = 604;

        // عناصر DOM
        const quranPage = document.getElementById('quranPage');
        const pageHeader = document.getElementById('pageHeader');
        const pageContent = document.getElementById('pageContent');
        const pageNumber = document.getElementById('pageNumber');
        const pageInput = document.getElementById('pageInput');
        const prevPageBtn = document.getElementById('prevPage');
        const nextPageBtn = document.getElementById('nextPage');
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('i');

        // تحديث عرض الصفحة
        function updatePage() {
            // تأثير تقليب الصفحة
            quranPage.classList.add('page-flip');
            setTimeout(() => {
                quranPage.classList.remove('page-flip');
            }, 600);

            // إذا كانت الصفحة في بيانات العينة، استخدمها
            if (quranPages[currentPage]) {
                pageHeader.textContent = `سورة ${quranPages[currentPage].surah} - الجزء ${quranPages[currentPage].juz}`;
                pageContent.textContent = quranPages[currentPage].content;
            } else {
                // عرض رسالة للصفحات غير المتوفرة في العينة
                pageHeader.textContent = `سورة البقرة - الجزء الأول`;
                pageContent.textContent = `هذه صفحة القرآن رقم ${currentPage}. في التطبيق الكامل، سيتم تحميل النص الكامل للصفحة من قاعدة البيانات. تحتوي كل صفحة من صفحات المصحف على حوالي 15 سطرًا من النص القرآني بطريقة الكتابة العثمانية التقليدية.`;
            }
            
            pageNumber.textContent = `صفحة ${currentPage}`;
            pageInput.value = currentPage;
            
            // تحديث حالة أزرار التنقل
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages;
        }

        // الانتقال إلى صفحة معينة
        function goToPage(page) {
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                updatePage();
            }
        }

        // الانتقال للصفحة التالية
        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updatePage();
            }
        }

        // الانتقال للصفحة السابقة
        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updatePage();
            }
        }

        // تبديل الوضع الداكن/الفاتح
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                themeIcon.className = 'fas fa-sun';
                themeToggle.querySelector('span').textContent = 'الوضع الفاتح';
            } else {
                themeIcon.className = 'fas fa-moon';
                themeToggle.querySelector('span').textContent = 'الوضع الداكن';
            }
            
            // حفظ التفضيل في localStorage
            localStorage.setItem('quranTheme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
        }

        // تحميل تفضيلات المستخدم
        function loadPreferences() {
            const savedTheme = localStorage.getItem('quranTheme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeIcon.className = 'fas fa-sun';
                themeToggle.querySelector('span').textContent = 'الوضع الفاتح';
            }
        }

        // إضافة مستمعي الأحداث
        prevPageBtn.addEventListener('click', prevPage);
        nextPageBtn.addEventListener('click', nextPage);
        themeToggle.addEventListener('click', toggleTheme);

        pageInput.addEventListener('change', () => {
            const page = parseInt(pageInput.value);
            if (!isNaN(page)) {
                goToPage(page);
            }
        });

        // التنقل بالسوابق
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                prevPage();
            } else if (e.key === 'ArrowLeft') {
                nextPage();
            }
        });

        // التمرير بالسحب على الشاشات التي تعمل باللمس
        let touchStartX = 0;
        let touchEndX = 0;

        quranPage.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        quranPage.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // سحب لليسار = التالي
                    nextPage();
                } else {
                    // سحب لليمين = السابق
                    prevPage();
                }
            }
        }

        // تهيئة التطبيق
        loadPreferences();
        updatePage();
    </script>
</body>
</html>
