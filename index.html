<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق القرآن الكامل مع التلاوة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Arial', sans-serif;
        }
        
        :root {
            --primary-color: #2c5c3e;
            --secondary-color: #d9a74a;
            --light-color: #f8f5f0;
            --dark-color: #1a2f23;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --border-radius: 15px;
        }
        
        body {
            background-color: var(--light-color);
            color: #333;
            max-width: 500px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding-bottom: 80px;
            position: relative;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            position: relative;
            overflow: hidden;
            z-index: 10;
        }
        
        header h1 {
            font-size: 1.6rem;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 2;
        }
        
        header p {
            opacity: 0.9;
            font-size: 0.9rem;
            position: relative;
            z-index: 2;
        }
        
        .header-pattern {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }
        
        /* Main Container */
        .container {
            flex: 1;
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        /* Parts Grid */
        .parts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .part-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 1.2rem 0.8rem;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .part-card:hover {
            transform: translateY(-5px);
            border-color: var(--secondary-color);
        }
        
        .part-card.active {
            border-color: var(--primary-color);
            background-color: rgba(44, 92, 62, 0.05);
        }
        
        .part-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .part-name {
            font-size: 0.9rem;
            color: #555;
            font-weight: 600;
        }
        
        .part-info {
            font-size: 0.8rem;
            color: #777;
            margin-top: 0.3rem;
        }
        
        /* Surah List */
        .surah-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            max-height: 400px;
            overflow-y: auto;
            padding: 0.5rem;
        }
        
        .surah-item {
            background-color: white;
            border-radius: 10px;
            padding: 1rem;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border-right: 4px solid transparent;
        }
        
        .surah-item:hover {
            transform: translateX(-5px);
            border-right-color: var(--secondary-color);
        }
        
        .surah-number {
            background-color: var(--primary-color);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .surah-details {
            flex: 1;
        }
        
        .surah-name {
            font-weight: bold;
            font-size: 1.1rem;
            color: #222;
        }
        
        .surah-meta {
            display: flex;
            gap: 1rem;
            margin-top: 0.3rem;
            font-size: 0.85rem;
            color: #666;
        }
        
        /* Quran Page View */
        .quran-page-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .page-info {
            text-align: right;
        }
        
        .page-title {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        
        .page-details {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.3rem;
        }
        
        .page-number {
            background-color: var(--secondary-color);
            color: var(--dark-color);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .quran-text {
            font-size: 1.8rem;
            line-height: 2.2;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #222;
            font-weight: 500;
            font-family: 'Uthmanic HAFS', 'Amiri', 'Scheherazade', serif;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            background-color: #f9f9f9;
            border-radius: 10px;
        }
        
        .verse-info {
            font-size: 0.9rem;
            color: #666;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px dashed #eee;
        }
        
        /* Audio Player */
        .audio-player {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 1rem;
            box-shadow: var(--shadow);
            margin-top: 1rem;
        }
        
        .audio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .reciter-name {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .audio-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.2rem;
        }
        
        .audio-btn:hover {
            background-color: var(--dark-color);
            transform: scale(1.05);
        }
        
        .audio-btn.stop {
            background-color: #d32f2f;
        }
        
        .audio-progress {
            width: 100%;
            height: 6px;
            background-color: #eee;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .audio-progress-bar {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 0.1s linear;
        }
        
        /* Reciter Selection */
        .reciter-selection {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .reciter-btn {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 20px;
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .reciter-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--dark-color);
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            color: var(--dark-color);
        }
        
        .btn-secondary:hover {
            background-color: #c0953a;
        }
        
        /* Loading & Error */
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        .loading i {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .error {
            text-align: center;
            padding: 2rem;
            color: #d32f2f;
            font-size: 1.1rem;
            background-color: #ffebee;
            border-radius: 10px;
            border: 1px solid #ffcdd2;
        }
        
        /* Navigation */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            padding: 1rem;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 100;
        }
        
        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            background: none;
            border: none;
            color: #888;
            font-size: 0.85rem;
            cursor: pointer;
            transition: color 0.3s ease;
            padding: 0.5rem;
            border-radius: 10px;
        }
        
        .nav-btn.active {
            color: var(--primary-color);
            background-color: rgba(44, 92, 62, 0.1);
        }
        
        .nav-btn i {
            font-size: 1.2rem;
        }
        
        /* Quran Image View */
        .quran-image-container {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .quran-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 1rem;
        }
        
        .image-navigation {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        /* Back Button */
        .back-btn {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            margin-bottom: 1rem;
        }
        
        /* Fade Animation */
        .fade-in {
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Responsive */
        @media (max-width: 480px) {
            .parts-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .quran-text {
                font-size: 1.5rem;
                line-height: 2;
            }
            
            .surah-name {
                font-size: 1rem;
            }
            
            .btn {
                padding: 0.65rem 1.2rem;
                font-size: 0.9rem;
            }
            
            header h1 {
                font-size: 1.4rem;
            }
        }
        
        @media (max-width: 350px) {
            .parts-grid {
                grid-template-columns: 1fr;
            }
            
            .quran-text {
                font-size: 1.3rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-pattern"></div>
        <h1><i class="fas fa-book-quran"></i> القرآن الكريم مع التلاوة</h1>
        <p>استمع وتدبر في كتاب الله عز وجل</p>
    </header>
    
    <div class="container" id="app-container">
        <!-- سيتم تحميل المحتوى هنا ديناميكيًا -->
        <div class="loading">
            <i class="fas fa-spinner fa-spin"></i>
            <p>جاري تحميل التطبيق...</p>
        </div>
    </div>
    
    <div class="footer">
        <button id="nav-parts" class="nav-btn active">
            <i class="fas fa-layer-group"></i>
            <span>الأجزاء</span>
        </button>
        <button id="nav-surah" class="nav-btn">
            <i class="fas fa-list"></i>
            <span>السور</span>
        </button>
        <button id="nav-quran" class="nav-btn">
            <i class="fas fa-quran"></i>
            <span>القرآن</span>
        </button>
        <button id="nav-audio" class="nav-btn">
            <i class="fas fa-music"></i>
            <span>التلاوة</span>
        </button>
    </div>
    
    <script>
        // بيانات التطبيق
        const app = {
            currentView: 'parts', // 'parts', 'surah', 'quran', 'audio'
            currentPart: 1,
            currentSurah: 1,
            currentPage: 1,
            currentReciter: 0,
            audioPlaying: false,
            audio: null,
            quranData: [],
            partsData: [],
            reciters: [],
            juzData: {}
        };
        
        // عناصر DOM
        const appContainer = document.getElementById('app-container');
        const navParts = document.getElementById('nav-parts');
        const navSurah = document.getElementById('nav-surah');
        const navQuran = document.getElementById('nav-quran');
        const navAudio = document.getElementById('nav-audio');
        
        // أسماء أجزاء القرآن
        const partNames = [
            "الجزء الأول", "الجزء الثاني", "الجزء الثالث", "الجزء الرابع", "الجزء الخامس",
            "الجزء السادس", "الجزء السابع", "الجزء الثامن", "الجزء التاسع", "الجزء العاشر",
            "الجزء الحادي عشر", "الجزء الثاني عشر", "الجزء الثالث عشر", "الجزء الرابع عشر", "الجزء الخامس عشر",
            "الجزء السادس عشر", "الجزء السابع عشر", "الجزء الثامن عشر", "الجزء التاسع عشر", "الجزء العشرون",
            "الجزء الحادي والعشرون", "الجزء الثاني والعشرون", "الجزء الثالث والعشرون", "الجزء الرابع والعشرون", "الجزء الخامس والعشرون",
            "الجزء السادس والعشرون", "الجزء السابع والعشرون", "الجزء الثامن والعشرون", "الجزء التاسع والعشرون", "الجزء الثلاثون"
        ];
        
        // معلومات السور (114 سورة)
        const surahInfo = [
            { name: "الفاتحة", ayahs: 7, type: "مكية" },
            { name: "البقرة", ayahs: 286, type: "مدنية" },
            { name: "آل عمران", ayahs: 200, type: "مدنية" },
            { name: "النساء", ayahs: 176, type: "مدنية" },
            { name: "المائدة", ayahs: 120, type: "مدنية" },
            { name: "الأنعام", ayahs: 165, type: "مكية" },
            { name: "الأعراف", ayahs: 206, type: "مكية" },
            { name: "الأنفال", ayahs: 75, type: "مدنية" },
            { name: "التوبة", ayahs: 129, type: "مدنية" },
            { name: "يونس", ayahs: 109, type: "مكية" },
            { name: "هود", ayahs: 123, type: "مكية" },
            { name: "يوسف", ayahs: 111, type: "مكية" },
            { name: "الرعد", ayahs: 43, type: "مدنية" },
            { name: "إبراهيم", ayahs: 52, type: "مكية" },
            { name: "الحجر", ayahs: 99, type: "مكية" },
            { name: "النحل", ayahs: 128, type: "مكية" },
            { name: "الإسراء", ayahs: 111, type: "مكية" },
            { name: "الكهف", ayahs: 110, type: "مكية" },
            { name: "مريم", ayahs: 98, type: "مكية" },
            { name: "طه", ayahs: 135, type: "مكية" },
            { name: "الأنبياء", ayahs: 112, type: "مكية" },
            { name: "الحج", ayahs: 78, type: "مدنية" },
            { name: "المؤمنون", ayahs: 118, type: "مكية" },
            { name: "النور", ayahs: 64, type: "مدنية" },
            { name: "الفرقان", ayahs: 77, type: "مكية" },
            { name: "الشعراء", ayahs: 227, type: "مكية" },
            { name: "النمل", ayahs: 93, type: "مكية" },
            { name: "القصص", ayahs: 88, type: "مكية" },
            { name: "العنكبوت", ayahs: 69, type: "مكية" },
            { name: "الروم", ayahs: 60, type: "مكية" },
            { name: "لقمان", ayahs: 34, type: "مكية" },
            { name: "السجدة", ayahs: 30, type: "مكية" },
            { name: "الأحزاب", ayahs: 73, type: "مدنية" },
            { name: "سبأ", ayahs: 54, type: "مكية" },
            { name: "فاطر", ayahs: 45, type: "مكية" },
            { name: "يس", ayahs: 83, type: "مكية" },
            { name: "الصافات", ayahs: 182, type: "مكية" },
            { name: "ص", ayahs: 88, type: "مكية" },
            { name: "الزمر", ayahs: 75, type: "مكية" },
            { name: "غافر", ayahs: 85, type: "مكية" },
            { name: "فصلت", ayahs: 54, type: "مكية" },
            { name: "الشورى", ayahs: 53, type: "مكية" },
            { name: "الزخرف", ayahs: 89, type: "مكية" },
            { name: "الدخان", ayahs: 59, type: "مكية" },
            { name: "الجاثية", ayahs: 37, type: "مكية" },
            { name: "الأحقاف", ayahs: 35, type: "مكية" },
            { name: "محمد", ayahs: 38, type: "مدنية" },
            { name: "الفتح", ayahs: 29, type: "مدنية" },
            { name: "الحجرات", ayahs: 18, type: "مدنية" },
            { name: "ق", ayahs: 45, type: "مكية" },
            { name: "الذاريات", ayahs: 60, type: "مكية" },
            { name: "الطور", ayahs: 49, type: "مكية" },
            { name: "النجم", ayahs: 62, type: "مكية" },
            { name: "القمر", ayahs: 55, type: "مكية" },
            { name: "الرحمن", ayahs: 78, type: "مدنية" },
            { name: "الواقعة", ayahs: 96, type: "مكية" },
            { name: "الحديد", ayahs: 29, type: "مدنية" },
            { name: "المجادلة", ayahs: 22, type: "مدنية" },
            { name: "الحشر", ayahs: 24, type: "مدنية" },
            { name: "الممتحنة", ayahs: 13, type: "مدنية" },
            { name: "الصف", ayahs: 14, type: "مدنية" },
            { name: "الجمعة", ayahs: 11, type: "مدنية" },
            { name: "المنافقون", ayahs: 11, type: "مدنية" },
            { name: "التغابن", ayahs: 18, type: "مدنية" },
            { name: "الطلاق", ayahs: 12, type: "مدنية" },
            { name: "التحريم", ayahs: 12, type: "مدنية" },
            { name: "الملك", ayahs: 30, type: "مكية" },
            { name: "القلم", ayahs: 52, type: "مكية" },
            { name: "الحاقة", ayahs: 52, type: "مكية" },
            { name: "المعارج", ayahs: 44, type: "مكية" },
            { name: "نوح", ayahs: 28, type: "مكية" },
            { name: "الجن", ayahs: 28, type: "مكية" },
            { name: "المزمل", ayahs: 20, type: "مكية" },
            { name: "المدثر", ayahs: 56, type: "مكية" },
            { name: "القيامة", ayahs: 40, type: "مكية" },
            { name: "الإنسان", ayahs: 31, type: "مدنية" },
            { name: "المرسلات", ayahs: 50, type: "مكية" },
            { name: "النبأ", ayahs: 40, type: "مكية" },
            { name: "النازعات", ayahs: 46, type: "مكية" },
            { name: "عبس", ayahs: 42, type: "مكية" },
            { name: "التكوير", ayahs: 29, type: "مكية" },
            { name: "الانفطار", ayahs: 19, type: "مكية" },
            { name: "المطففين", ayahs: 36, type: "مكية" },
            { name: "الانشقاق", ayahs: 25, type: "مكية" },
            { name: "البروج", ayahs: 22, type: "مكية" },
            { name: "الطارق", ayahs: 17, type: "مكية" },
            { name: "الأعلى", ayahs: 19, type: "مكية" },
            { name: "الغاشية", ayahs: 26, type: "مكية" },
            { name: "الفجر", ayahs: 30, type: "مكية" },
            { name: "البلد", ayahs: 20, type: "مكية" },
            { name: "الشمس", ayahs: 15, type: "مكية" },
            { name: "الليل", ayahs: 21, type: "مكية" },
            { name: "الضحى", ayahs: 11, type: "مكية" },
            { name: "الشرح", ayahs: 8, type: "مكية" },
            { name: "التين", ayahs: 8, type: "مكية" },
            { name: "العلق", ayahs: 19, type: "مكية" },
            { name: "القدر", ayahs: 5, type: "مكية" },
            { name: "البينة", ayahs: 8, type: "مدنية" },
            { name: "الزلزلة", ayahs: 8, type: "مدنية" },
            { name: "العاديات", ayahs: 11, type: "مكية" },
            { name: "القارعة", ayahs: 11, type: "مكية" },
            { name: "التكاثر", ayahs: 8, type: "مكية" },
            { name: "العصر", ayahs: 3, type: "مكية" },
            { name: "الهمزة", ayahs: 9, type: "مكية" },
            { name: "الفيل", ayahs: 5, type: "مكية" },
            { name: "قريش", ayahs: 4, type: "مكية" },
            { name: "الماعون", ayahs: 7, type: "مكية" },
            { name: "الكوثر", ayahs: 3, type: "مكية" },
            { name: "الكافرون", ayahs: 6, type: "مكية" },
            { name: "النصر", ayahs: 3, type: "مدنية" },
            { name: "المسد", ayahs: 5, type: "مكية" },
            { name: "الإخلاص", ayahs: 4, type: "مكية" },
            { name: "الفلق", ayahs: 5, type: "مكية" },
            { name: "الناس", ayahs: 6, type: "مكية" }
        ];
        
        // قائمة القراء المشهورين مع روابط mp3
        const recitersList = [
            { id: 1, name: "مشاري راشد العفاسي", style: "حدر" },
            { id: 2, name: "سعد الغامدي", style: "تحقيق" },
            { id: 3, name: "أبو بكر الشاطري", style: "ترتيل" },
            { id: 4, name: "محمود خليل الحصري", style: "تحقيق" },
            { id: 5, name: "عبد الباسط عبد الصمد", style: "ترتيل" },
            { id: 6, name: "محمد صديق المنشاوي", style: "حدر" },
            { id: 7, name: "ياسر الدوسري", style: "ترتيل" },
            { id: 8, name: "خالد الجليل", style: "تحقيق" }
        ];
        
        // بيانات أجزاء القرآن (توزيع الآيات على الأجزاء)
        const juzData = {
            1: { start: { surah: 1, ayah: 1 }, end: { surah: 2, ayah: 141 } },
            2: { start: { surah: 2, ayah: 142 }, end: { surah: 2, ayah: 252 } },
            3: { start: { surah: 2, ayah: 253 }, end: { surah: 3, ayah: 92 } },
            4: { start: { surah: 3, ayah: 93 }, end: { surah: 4, ayah: 23 } },
            5: { start: { surah: 4, ayah: 24 }, end: { surah: 4, ayah: 147 } },
            6: { start: { surah: 4, ayah: 148 }, end: { surah: 5, ayah: 81 } },
            7: { start: { surah: 5, ayah: 82 }, end: { surah: 6, ayah: 110 } },
            8: { start: { surah: 6, ayah: 111 }, end: { surah: 7, ayah: 87 } },
            9: { start: { surah: 7, ayah: 88 }, end: { surah: 8, ayah: 40 } },
            10: { start: { surah: 8, ayah: 41 }, end: { surah: 9, ayah: 92 } },
            11: { start: { surah: 9, ayah: 93 }, end: { surah: 11, ayah: 5 } },
            12: { start: { surah: 11, ayah: 6 }, end: { surah: 12, ayah: 52 } },
            13: { start: { surah: 12, ayah: 53 }, end: { surah: 14, ayah: 52 } },
            14: { start: { surah: 15, ayah: 1 }, end: { surah: 16, ayah: 128 } },
            15: { start: { surah: 17, ayah: 1 }, end: { surah: 18, ayah: 74 } },
            16: { start: { surah: 18, ayah: 75 }, end: { surah: 20, ayah: 135 } },
            17: { start: { surah: 21, ayah: 1 }, end: { surah: 22, ayah: 78 } },
            18: { start: { surah: 23, ayah: 1 }, end: { surah: 25, ayah: 20 } },
            19: { start: { surah: 25, ayah: 21 }, end: { surah: 27, ayah: 55 } },
            20: { start: { surah: 27, ayah: 56 }, end: { surah: 29, ayah: 45 } },
            21: { start: { surah: 29, ayah: 46 }, end: { surah: 33, ayah: 30 } },
            22: { start: { surah: 33, ayah: 31 }, end: { surah: 36, ayah: 27 } },
            23: { start: { surah: 36, ayah: 28 }, end: { surah: 39, ayah: 31 } },
            24: { start: { surah: 39, ayah: 32 }, end: { surah: 41, ayah: 46 } },
            25: { start: { surah: 41, ayah: 47 }, end: { surah: 45, ayah: 37 } },
            26: { start: { surah: 46, ayah: 1 }, end: { surah: 51, ayah: 30 } },
            27: { start: { surah: 51, ayah: 31 }, end: { surah: 57, ayah: 29 } },
            28: { start: { surah: 58, ayah: 1 }, end: { surah: 66, ayah: 12 } },
            29: { start: { surah: 67, ayah: 1 }, end: { surah: 77, ayah: 50 } },
            30: { start: { surah: 78, ayah: 1 }, end: { surah: 114, ayah: 6 } }
        };
        
        // نصوص قرآنية للعرض (أمثلة)
        const quranVerses = [
            // الجزء الأول
            "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ الرَّحْمَٰنِ الرَّحِيمِ مَالِكِ يَوْمِ الدِّينِ إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ",
            // الجزء الثاني
            "سَيَقُولُ السُّفَهَاءُ مِنَ النَّاسِ مَا وَلَّاهُمْ عَنْ قِبْلَتِهِمُ الَّتِي كَانُوا عَلَيْهَا ۚ قُلْ لِلَّهِ الْمَشْرِقُ وَالْمَغْرِبُ ۚ يَهْدِي مَنْ يَشَاءُ إِلَىٰ صِرَاطٍ مُسْتَقِيمٍ",
            // الجزء الثالث
            "آمَنَ الرَّسُولُ بِمَا أُنْزِلَ إِلَيْهِ مِنْ رَبِّهِ وَالْمُؤْمِنُونَ ۚ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِنْ رُسُلِهِ ۚ وَقَالُوا سَمِعْنَا وَأَطَعْنَا ۖ غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ",
            // ... يمكن إضافة المزيد من الآيات
        ];
        
        // تهيئة التطبيق
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
            setupEventListeners();
        });
        
        // تهيئة التطبيق
        function initApp() {
            app.reciters = recitersList;
            app.juzData = juzData;
            app.currentReciter = 0;
            
            // تعيين نص افتراضي للقرآن
            app.quranData = quranVerses;
            
            // عرض شاشة الأجزاء أولاً
            showPartsView();
        }
        
        // إعداد مستمعي الأحداث
        function setupEventListeners() {
            // أزرار التنقل
            navParts.addEventListener('click', () => switchView('parts'));
            navSurah.addEventListener('click', () => switchView('surah'));
            navQuran.addEventListener('click', () => switchView('quran'));
            navAudio.addEventListener('click', () => switchView('audio'));
        }
        
        // تبديل العرض
        function switchView(view) {
            app.currentView = view;
            updateNavButtons();
            
            switch(view) {
                case 'parts':
                    showPartsView();
                    break;
                case 'surah':
                    showSurahView();
                    break;
                case 'quran':
                    showQuranView();
                    break;
                case 'audio':
                    showAudioView();
                    break;
            }
        }
        
        // تحديث أزرار التنقل
        function updateNavButtons() {
            // إزالة الفئة النشطة من جميع الأزرار
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // إضافة الفئة النشطة للزر المحدد
            if (app.currentView === 'parts') {
                navParts.classList.add('active');
            } else if (app.currentView === 'surah') {
                navSurah.classList.add('active');
            } else if (app.currentView === 'quran') {
                navQuran.classList.add('active');
            } else if (app.currentView === 'audio') {
                navAudio.classList.add('active');
            }
        }
        
        // عرض شاشة الأجزاء
        function showPartsView() {
            let html = `
                <div class="fade-in">
                    <h2 style="color: var(--primary-color); margin-bottom: 1rem; text-align: center;">
                        <i class="fas fa-layer-group"></i> أجزاء القرآن الكريم
                    </h2>
                    <p style="text-align: center; color: #666; margin-bottom: 1.5rem;">
                        اختر جزءًا من أجزاء القرآن الثلاثين للاستماع أو القراءة
                    </p>
                    <div class="parts-grid">
            `;
            
            for (let i = 1; i <= 30; i++) {
                const partName = partNames[i-1];
                const surahRange = getSurahRangeForPart(i);
                
                html += `
                    <div class="part-card ${app.currentPart === i ? 'active' : ''}" onclick="selectPart(${i})">
                        <div class="part-number">${i}</div>
                        <div class="part-name">${partName}</div>
                        <div class="part-info">${surahRange}</div>
                    </div>
                `;
            }
            
            html += `
                    </div>
                    <div class="controls" style="margin-top: 2rem;">
                        <button class="btn btn-primary" onclick="openPart(${app.currentPart})">
                            <i class="fas fa-book-open"></i> افتح الجزء ${app.currentPart}
                        </button>
                    </div>
                </div>
            `;
            
            appContainer.innerHTML = html;
        }
        
        // الحصول على نطاق السور في الجزء
        function getSurahRangeForPart(part) {
            const juzInfo = juzData[part];
            if (!juzInfo) return "";
            
            const startSurah = surahInfo[juzInfo.start.surah - 1].name;
            const endSurah = surahInfo[juzInfo.end.surah - 1].name;
            
            if (juzInfo.start.surah === juzInfo.end.surah) {
                return `سورة ${startSurah}`;
            } else {
                return `${startSurah} - ${endSurah}`;
            }
        }
        
        // اختيار جزء
        function selectPart(partNumber) {
            app.currentPart = partNumber;
            showPartsView();
        }
        
        // فتح الجزء المحدد
        function openPart(partNumber) {
            app.currentPart = partNumber;
            
            // احصل على أول سورة في الجزء
            const juzInfo = juzData[partNumber];
            if (juzInfo) {
                app.currentSurah = juzInfo.start.surah;
            }
            
            // انتقل لعرض القرآن
            switchView('quran');
        }
        
        // عرض قائمة السور
        function showSurahView() {
            let html = `
                <div class="fade-in">
                    <h2 style="color: var(--primary-color); margin-bottom: 1rem; text-align: center;">
                        <i class="fas fa-list"></i> سور القرآن الكريم
                    </h2>
                    <p style="text-align: center; color: #666; margin-bottom: 1.5rem;">
                        اختر سورة للاستماع أو القراءة
                    </p>
                    <div class="surah-list">
            `;
            
            for (let i = 0; i < surahInfo.length; i++) {
                const surah = surahInfo[i];
                const surahNumber = i + 1;
                
                html += `
                    <div class="surah-item" onclick="selectSurah(${surahNumber})">
                        <div class="surah-number">${surahNumber}</div>
                        <div class="surah-details">
                            <div class="surah-name">سورة ${surah.name}</div>
                            <div class="surah-meta">
                                <span>${surah.ayahs} آية</span>
                                <span>${surah.type}</span>
                                <span>الجزء ${getPartForSurah(surahNumber)}</span>
                            </div>
                        </div>
                        <i class="fas fa-chevron-left" style="color: #ccc;"></i>
                    </div>
                `;
            }
            
            html += `
                    </div>
                </div>
            `;
            
            appContainer.innerHTML = html;
        }
        
        // الحصول على الجزء الذي توجد به السورة
        function getPartForSurah(surahNumber) {
            for (let part = 1; part <= 30; part++) {
                const juzInfo = juzData[part];
                if (surahNumber >= juzInfo.start.surah && surahNumber <= juzInfo.end.surah) {
                    return part;
                }
            }
            return 1;
        }
        
        // اختيار سورة
        function selectSurah(surahNumber) {
            app.currentSurah = surahNumber;
            app.currentPart = getPartForSurah(surahNumber);
            
            // انتقل لعرض القرآن
            switchView('quran');
        }
        
        // عرض القرآن
        function showQuranView() {
            const surah = surahInfo[app.currentSurah - 1];
            const partName = partNames[app.currentPart - 1];
            
            let html = `
                <div class="fade-in">
                    <button class="back-btn" onclick="switchView('${app.previousView || 'parts'}')">
                        <i class="fas fa-arrow-right"></i> رجوع
                    </button>
                    
                    <div class="quran-page-container">
                        <div class="page-header">
                            <div class="page-info">
                                <div class="page-title">سورة ${surah.name}</div>
                                <div class="page-details">
                                    الجزء ${app.currentPart}: ${partName} | ${surah.type} | ${surah.ayahs} آية
                                </div>
                            </div>
                            <div class="page-number">${app.currentSurah}</div>
                        </div>
                        
                        <div class="quran-text" id="quran-text">
                            ${getQuranTextForSurah(app.currentSurah)}
                        </div>
                        
                        <div class="verse-info">
                            <p>سورة ${surah.name} - الجزء ${app.currentPart}</p>
                            <p>تلاوة القرآن الكريم برواية حفص عن عاصم</p>
                        </div>
                    </div>
                    
                    <div class="image-navigation">
                        <button class="btn btn-secondary" onclick="previousSurah()">
                            <i class="fas fa-arrow-right"></i> السورة السابقة
                        </button>
                        <button class="btn btn-primary" onclick="nextSurah()">
                            السورة التالية <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                    
                    <div style="margin-top: 1.5rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem; text-align: center;">
                            <i class="fas fa-image"></i> صورة الصفحة
                        </h3>
                        <div class="quran-image-container">
                            <img src="https://via.placeholder.com/400x600/2c5c3e/ffffff?text=صفحة+القرآن+${app.currentSurah}" 
                                 alt="صفحة القرآن" class="quran-image">
                            <p style="color: #666; font-size: 0.9rem; margin-top: 0.5rem;">
                                صورة الصفحة ${app.currentSurah} من المصحف الشريف
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            appContainer.innerHTML = html;
            app.previousView = 'quran';
        }
        
        // الحصول على نص السورة (محاكاة)
        function getQuranTextForSurah(surahNumber) {
            // في التطبيق الحقيقي، ستجلب هذه البيانات من API
            // هنا نعرض نموذج نصي
            const sampleTexts = [
                "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ الرَّحْمَٰنِ الرَّحِيمِ مَالِكِ يَوْمِ الدِّينِ إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ",
                "الم ذَٰلِكَ الْكِتَابُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِلْمُتَّقِينَ الَّذِينَ يُؤْمِنُونَ بِالْغَيْبِ وَيُقِيمُونَ الصَّلَاةَ وَمِمَّا رَزَقْنَاهُمْ يُنْفِقُونَ",
                "اللَّهُ لَا إِلَٰهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ ۚ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ ۚ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ ۗ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ ۚ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ ۖ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ ۚ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ ۖ وَلَا يَئُودُهُ حِفْظُهُمَا ۚ وَهُوَ الْعَلِيُّ الْعَظِيمُ",
                "آمَنَ الرَّسُولُ بِمَا أُنْزِلَ إِلَيْهِ مِنْ رَبِّهِ وَالْمُؤْمِنُونَ ۚ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِنْ رُسُلِهِ ۚ وَقَالُوا سَمِعْنَا وَأَطَعْنَا ۖ غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ"
            ];
            
            return sampleTexts[Math.min(surahNumber - 1, sampleTexts.length - 1)] || sampleTexts[0];
        }
        
        // السورة السابقة
        function previousSurah() {
            if (app.currentSurah > 1) {
                app.currentSurah--;
                app.currentPart = getPartForSurah(app.currentSurah);
                showQuranView();
            } else {
                showNotification("هذه أول سورة في القرآن الكريم");
            }
        }
        
        // السورة التالية
        function nextSurah() {
            if (app.currentSurah < 114) {
                app.currentSurah++;
                app.currentPart = getPartForSurah(app.currentSurah);
                showQuranView();
            } else {
                showNotification("هذه آخر سورة في القرآن الكريم");
            }
        }
        
        // عرض شاشة التلاوة
        function showAudioView() {
            const reciter = app.reciters[app.currentReciter];
            
            let html = `
                <div class="fade-in">
                    <h2 style="color: var(--primary-color); margin-bottom: 1rem; text-align: center;">
                        <i class="fas fa-music"></i> الاستماع إلى التلاوة
                    </h2>
                    <p style="text-align: center; color: #666; margin-bottom: 1.5rem;">
                        اختر قارئًا واستمع إلى تلاوة القرآن الكريم
                    </p>
                    
                    <div class="audio-player">
                        <div class="audio-header">
                            <div class="reciter-name">${reciter.name}</div>
                            <div style="color: #666; font-size: 0.9rem;">${reciter.style}</div>
                        </div>
                        
                        <div class="audio-controls">
                            <button class="audio-btn" onclick="playAudio()" id="play-btn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="audio-btn stop" onclick="stopAudio()" id="stop-btn">
                                <i class="fas fa-stop"></i>
                            </button>
                            <button class="audio-btn" onclick="pauseAudio()" id="pause-btn">
                                <i class="fas fa-pause"></i>
                            </button>
                        </div>
                        
                        <div class="audio-progress">
                            <div class="audio-progress-bar" id="audio-progress-bar"></div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 0.5rem; font-size: 0.9rem; color: #666;">
                            <span id="current-time">0:00</span> / <span id="duration">0:00</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1.5rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                            <i class="fas fa-user"></i> اختر قارئًا
                        </h3>
                        <div class="reciter-selection">
            `;
            
            for (let i = 0; i < app.reciters.length; i++) {
                const r = app.reciters[i];
                html += `
                    <button class="reciter-btn ${i === app.currentReciter ? 'active' : ''}" 
                            onclick="selectReciter(${i})">
                        ${r.name}
                    </button>
                `;
            }
            
            html += `
                        </div>
                    </div>
                    
                    <div style="margin-top: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                            <i class="fas fa-headphones"></i> الاستماع حسب الجزء
                        </h3>
                        <p style="color: #666; margin-bottom: 1rem;">
                            اختر جزءًا للاستماع إلى تلاوته كاملة
                        </p>
                        <div class="controls">
                            <button class="btn btn-primary" onclick="playPartAudio(${app.currentPart})">
                                <i class="fas fa-play-circle"></i> تشغيل الجزء ${app.currentPart}
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            appContainer.innerHTML = html;
            app.previousView = 'audio';
            
            // تحديث حالة أزرار التشغيل
            updateAudioButtons();
        }
        
        // اختيار قارئ
        function selectReciter(reciterIndex) {
            app.currentReciter = reciterIndex;
            showAudioView();
        }
        
        // تشغيل الصوت
        function playAudio() {
            if (!app.audio) {
                // في التطبيق الحقيقي، ستستخدم رابطًا حقيقيًا للتلاوة
                // هذا مثال لملف صوتي تجريبي
                const audioUrl = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3";
                
                app.audio = new Audio(audioUrl);
                
                app.audio.addEventListener('timeupdate', updateAudioProgress);
                app.audio.addEventListener('loadedmetadata', function() {
                    document.getElementById('duration').textContent = formatTime(app.audio.duration);
                });
                
                app.audio.addEventListener('ended', function() {
                    app.audioPlaying = false;
                    updateAudioButtons();
                });
            }
            
            app.audio.play();
            app.audioPlaying = true;
            updateAudioButtons();
            
            // محاكاة تقدم التشغيل (في التطبيق الحقيقي، سيكون حقيقيًا)
            simulateAudioProgress();
        }
        
        // إيقاف الصوت
        function stopAudio() {
            if (app.audio) {
                app.audio.pause();
                app.audio.currentTime = 0;
                app.audioPlaying = false;
                updateAudioButtons();
                updateAudioProgress();
            }
        }
        
        // إيقاف الصوت مؤقتًا
        function pauseAudio() {
            if (app.audio && app.audioPlaying) {
                app.audio.pause();
                app.audioPlaying = false;
                updateAudioButtons();
            } else if (app.audio) {
                app.audio.play();
                app.audioPlaying = true;
                updateAudioButtons();
            }
        }
        
        // محاكاة تقدم التشغيل (لأننا نستخدم ملف تجريبي)
        function simulateAudioProgress() {
            if (!app.audioPlaying) return;
            
            const progressBar = document.getElementById('audio-progress-bar');
            const currentTimeEl = document.getElementById('current-time');
            
            let currentTime = 0;
            const duration = 180; // 3 دقائق
            
            const interval = setInterval(() => {
                if (!app.audioPlaying) {
                    clearInterval(interval);
                    return;
                }
                
                currentTime += 1;
                if (currentTime > duration) {
                    currentTime = 0;
                    app.audioPlaying = false;
                    updateAudioButtons();
                    clearInterval(interval);
                }
                
                const progressPercent = (currentTime / duration) * 100;
                progressBar.style.width = progressPercent + '%';
                currentTimeEl.textContent = formatTime(currentTime);
                
                if (currentTime >= duration) {
                    document.getElementById('duration').textContent = formatTime(duration);
                }
            }, 1000);
        }
        
        // تحديث شريط تقدم الصوت
        function updateAudioProgress() {
            if (!app.audio) return;
            
            const progressBar = document.getElementById('audio-progress-bar');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            
            if (progressBar && currentTimeEl) {
                const currentTime = app.audio.currentTime;
                const duration = app.audio.duration;
                
                const progressPercent = (currentTime / duration) * 100;
                progressBar.style.width = progressPercent + '%';
                
                currentTimeEl.textContent = formatTime(currentTime);
                
                if (durationEl && isNaN(durationEl.textContent)) {
                    durationEl.textContent = formatTime(duration);
                }
            }
        }
        
        // تحديث أزرار الصوت
        function updateAudioButtons() {
            const playBtn = document.getElementById('play-btn');
            const pauseBtn = document.getElementById('pause-btn');
            
            if (playBtn) {
                if (app.audioPlaying) {
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                } else {
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                }
            }
            
            if (pauseBtn) {
                if (app.audioPlaying) {
                    pauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    pauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                }
            }
        }
        
        // تشغيل تلاوة الجزء
        function playPartAudio(partNumber) {
            app.currentPart = partNumber;
            showNotification(`جاري تحميل تلاوة الجزء ${partNumber}...`);
            
            // في التطبيق الحقيقي، ستقوم بتحميل التلاوة الخاصة بالجزء
            setTimeout(() => {
                playAudio();
            }, 1000);
        }
        
        // تنسيق الوقت
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        // عرض إشعار
        function showNotification(message) {
            // إنشاء عنصر الإشعار
            const notification = document.createElement('div');
            notification.innerHTML = `
                <div style="position: fixed; top: 20px; right: 20px; left: 20px; max-width: 500px; margin: 0 auto; background-color: var(--primary-color); color: white; padding: 1rem; border-radius: 10px; box-shadow: var(--shadow); z-index: 1000; display: flex; justify-content: space-between; align-items: center;">
                    <span>${message}</span>
                    <button id="close-notification" style="background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // إضافة مستمع الحدث لإغلاق الإشعار
            document.getElementById('close-notification').addEventListener('click', () => {
                notification.remove();
            });
            
            // إزالة الإشعار تلقائيًا بعد 3 ثواني
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }
    </script>
</body>
</html>
